{% set title = group.group_name %}
{% extends 'base.html' %}

{% block content %}
    {% if user.is_organizer %}
        <p>Please click <a href="{{ url_for('add_post', group_id=group.group_id) }}">here</a> to add the post!</p>
    {% endif %}
    <table>
        <thead>
            <tr>
                <th>Editor</th>
                <th>Title</th>
                <th>Context</th>
                <th>From</th>
                <th>To</th>
                <td span="2"></td>
            </tr>
        </thead>
        <tbody>
            {% for post in group.posts %}
            <tr>
                <td>{{ post.editor.username }}</td>
                <td>{{ post.title }}</td>
                <td>{{ post.context }}</td>
                <td>{{ post.date_fm.strftime('%Y-%m-%d') }}</td>
                <td>{{ post.date_to.strftime('%Y-%m-%d') }}</td>
                {% if user == post.editor or user == group.create_user %}
                <!-- Edit Button -->
                    <td>
                        <a href="{{ url_for('edit_post', post_id=post.post_id) }}">
                            <button>Edit</button>
                        </a>
                    </td>
                    <td>
                        <!-- Delete Button -->
                        <a href="{{ url_for('delete_post', post_id=post.post_id) }}">
                            <button>Delete</button>
                        </a>
                    </td>
                {% endif %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
